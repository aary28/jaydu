<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Flip Card with Fireworks</title>
  <style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0;
    height: 100vh;
    background: radial-gradient(#000010, #000);
    overflow: hidden;
    font-family: Arial, sans-serif;
    position: relative;
  }

  /* Fireworks background */
  canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    background: radial-gradient(#000010, #000);
  }

  /* Flip Card Container */
  .flip-card {
    background-color: transparent;
    width: 80vw;
    max-width: 600px;
    height: 50vh;
    max-height: 400px;
    perspective: 1200px;
    z-index: 2;
  }

  .flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
    transform-style: preserve-3d;
    cursor: pointer;
  }

  .flip-card.flipped .flip-card-inner {
    transform: rotateY(180deg);
  }

  .flip-card-front,
  .flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 35px rgba(0, 0, 0, 0.45);
  }

  .flip-card-front {
    background: #fff;
  }

  .flip-card-front img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .flip-card-back {
    background: linear-gradient(135deg, #ffd84d, #ffb300);
    display: flex;
    justify-content: center;
    align-items: center;
    transform: rotateY(180deg);
    padding: 3vw;
  }

  .flip-card-back p {
    font-family: "Georgia", "Times New Roman", serif;
    font-size: clamp(1rem, 2.2vw, 1.4rem);
    line-height: 1.6;
    color: #2c2c2c;
    font-weight: 400;
    text-align: center;
  }

  .closing {
    display: block;
    margin-top: 15px;
    font-size: clamp(1.2rem, 2.8vw, 1.6rem);
    font-style: italic;
    font-weight: 600;
  }

  /* iPad Landscape Optimization */
  @media (orientation: landscape) {
    .flip-card {
      width: 50vw;
      height: 60vh;
      max-width: 700px;
    }

    .flip-card-back p {
      font-size: clamp(1rem, 1.8vw, 1.3rem);
    }
  }

  /* iPad Portrait Optimization */
  @media (orientation: portrait) {
    .flip-card {
      width: 85vw;
      height: 50vh;
      max-width: 550px;
    }

    .flip-card-back p {
      font-size: clamp(1rem, 2.5vw, 1.4rem);
    }
  }
</style>
</head>
<body>
  <!-- Fireworks background -->
  <canvas id="fireworks"></canvas>

  <!-- Flip card -->
  <div class="flip-card" id="card">
    <div class="flip-card-inner">
      <div class="flip-card-front">
        <img src="bday.jpeg" alt="Front Image">
      </div>
      <div class="flip-card-back">
        <p>
          <span class="closing">Happy Birthday Jaydu</span>
          You have guided me through parts of my life and shaped me as a person that i am today.
          You have taught me this one thing that i abide by forever that "everything just in our mind" and "We are our own competitors" 
          You will forever be the person i look up to.
          You have always given me more than i could ever ask for. 
          I owe all the good memories to you such as rally racing, dirt racing, sunday kheema pav and jumbo movie day out.
          Sacrifies you made will be worth soon and i'll make sure to make you proud everytime. 
          I may not say this everyday but today i will "love you".
        </p>
      </div>
    </div>
  </div>

  <!-- Background music -->
  <audio id="bg-music" autoplay loop muted>
    <source src="Papa Kahte Hain (mp3cut.net).mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <script>
    // Flip card + music control
    const card = document.getElementById("card");
    const music = document.getElementById("bg-music");
    let musicStarted = false;

    card.addEventListener("click", () => {
      card.classList.toggle("flipped");
      if (!musicStarted) {
        music.muted = false;
        music.play();
        musicStarted = true;
      }
    });

    // -------- Fireworks animation --------
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    let W = window.innerWidth;
    let H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;

    const particles = [];

    function random(min, max) {
      return Math.random() * (max - min) + min;
    }

    class Firework {
      constructor() {
        this.x = random(0, W);
        this.y = H;
        this.targetY = random(H / 4, H / 2);
        this.color = `hsl(${random(0, 360)}, 100%, 60%)`;
        this.trail = [];
        this.exploded = false;
        this.particles = [];
      }

      update() {
        if (!this.exploded) {
          this.y -= 6;
          this.trail.push({x: this.x, y: this.y});
          if (this.y <= this.targetY) {
            this.explode();
          }
        } else {
          this.particles.forEach(p => p.update());
          this.particles = this.particles.filter(p => p.alpha > 0);
        }
      }

      draw() {
        if (!this.exploded) {
          ctx.beginPath();
          ctx.moveTo(this.x, this.y);
          ctx.lineTo(this.x, this.y + 10);
          ctx.strokeStyle = this.color;
          ctx.stroke();
        } else {
          this.particles.forEach(p => p.draw());
        }
      }

      explode() {
        this.exploded = true;
        for (let i = 0; i < 50; i++) {
          this.particles.push(new Particle(this.x, this.y, this.color));
        }
      }
    }

    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.color = color;
        this.radius = random(1, 3);
        this.speed = random(1, 5);
        this.angle = random(0, 2 * Math.PI);
        this.alpha = 1;
        this.decay = random(0.01, 0.02);
      }

      update() {
        this.x += Math.cos(this.angle) * this.speed;
        this.y += Math.sin(this.angle) * this.speed + 0.1;
        this.alpha -= this.decay;
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.alpha;
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function loop() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.2)";
      ctx.fillRect(0, 0, W, H);

      if (Math.random() < 0.05) {
        particles.push(new Firework());
      }

      particles.forEach(fw => {
        fw.update();
        fw.draw();
      });

      requestAnimationFrame(loop);
    }

    loop();

    window.addEventListener("resize", () => {
      W = window.innerWidth;
      H = window.innerHeight;
      canvas.width = W;
      canvas.height = H;
    });
  </script>
</body>
</html>
